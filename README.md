# 手势控制鼠标程序 🖐️🖱️

通过摄像头实时捕捉手势动作，将其转换为鼠标操作的 Python 程序。支持 Windows 系统。

## ✨ 功能特性

### 支持的手势操作

| 手势 | 鼠标操作 | 说明 |
|-----|---------|------|
| 👆 手指移动 | 鼠标指针移动 | 使用食指尖端控制鼠标位置 |
| 🤏 拇指+食指捏合 | 鼠标左键点击 | 拇指和食指靠近触发 |
| ✊ 握拳 | 鼠标右键点击 | 五指收拢握拳触发 |
| ⬆️ 手向上划 | 鼠标滚轮上滑 | 手掌整体向上移动 |
| ⬇️ 手向下划 | 鼠标滚轮下滑 | 手掌整体向下移动 |

### 核心特性

- ✅ **实时手势识别**: 基于 Google MediaPipe，精准检测 21 个手部关键点
- ✅ **平滑鼠标控制**: 采用指数移动平均算法，减少抖动
- ✅ **防误触机制**: 手势触发冷却时间，避免频繁误操作
- ✅ **可视化反馈**: 实时显示摄像头画面、手部关键点和当前手势
- ✅ **可配置参数**: 灵敏度、阈值等参数可自定义调整
- ✅ **紧急停止**: 鼠标移到屏幕角落自动停止程序

## 📋 系统要求

- **操作系统**: Windows 10/11
- **Python 版本**: Python 3.8 或更高
- **硬件要求**:
  - 摄像头（内置或外接 USB 摄像头）
  - 建议 4GB+ 内存
  - 良好的光线环境

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行程序

```bash
python main.py
```

### 3. 开始使用

- 将手放在摄像头前方 **30-60cm** 距离
- 程序会自动检测手势并控制鼠标
- 按 **ESC** 键退出程序

## 📦 项目结构

```
gesture-mouse-control/
├── main.py                 # 主程序入口
├── gesture_detector.py     # 手势检测器模块
├── mouse_controller.py     # 鼠标控制器模块
├── config.py              # 配置参数文件
├── requirements.txt       # Python 依赖包
└── README.md             # 项目说明文档
```

## ⚙️ 配置说明

在 `config.py` 文件中可以调整以下参数:

### 灵敏度设置

```python
MOUSE_SENSITIVITY = 1.5    # 鼠标移动灵敏度（建议 1.0-2.0）
SCROLL_SENSITIVITY = 2     # 滚轮滚动灵敏度（建议 1-3）
```

### 手势识别阈值

```python
PINCH_THRESHOLD = 0.05     # 捏合手势阈值（越小越敏感）
FIST_THRESHOLD = 0.3       # 握拳手势阈值（越小越严格）
SWIPE_THRESHOLD = 0.15     # 滑动手势阈值（越小越敏感）
```

### 冷却时间

```python
CLICK_COOLDOWN = 0.5       # 点击冷却时间（秒）
SCROLL_COOLDOWN = 0.3      # 滚动冷却时间（秒）
```

### 显示设置

```python
SHOW_CAMERA_FEED = True    # 是否显示摄像头画面
SHOW_HAND_LANDMARKS = True # 是否显示手部关键点
```

## 🎯 使用技巧

### 最佳实践

1. **光线环境**: 保持充足的光线，避免背光或强光直射
2. **背景选择**: 尽量使用纯色背景，避免复杂背景干扰
3. **手部位置**: 保持手部在摄像头中心区域，避免边缘
4. **动作幅度**: 滑动手势需要较明显的移动幅度
5. **手势间隔**: 手势操作之间稍作停顿，避免误触

### 常见问题

**Q: 鼠标移动不流畅？**
- 调整 `MOUSE_SENSITIVITY` 参数
- 增大 `SMOOTH_FACTOR` 值（但会增加延迟）

**Q: 手势识别不准确？**
- 检查光线是否充足
- 调整相应的阈值参数（`PINCH_THRESHOLD`, `FIST_THRESHOLD` 等）

**Q: 点击触发过于频繁？**
- 增大 `CLICK_COOLDOWN` 时间

**Q: 摄像头无法打开？**
- 检查摄像头是否被其他程序占用
- 尝试修改 `config.py` 中的 `CAMERA_INDEX`（0, 1, 2...）

## 🔧 技术栈

- **[OpenCV](https://opencv.org/)**: 摄像头视频流捕获与图像处理
- **[MediaPipe](https://mediapipe.dev/)**: Google 开源的手部检测与跟踪库
- **[PyAutoGUI](https://pyautogui.readthedocs.io/)**: Python 鼠标键盘控制库
- **[NumPy](https://numpy.org/)**: 数值计算库

## 📊 性能指标

- **帧率**: 约 15-30 FPS（取决于硬件性能）
- **延迟**: < 100ms（手势识别到鼠标响应）
- **CPU 占用**: 约 15-30%（单核）
- **内存占用**: 约 200-300 MB

## 🛡️ 安全说明

- 程序使用 PyAutoGUI 的 **FailSafe** 功能：将鼠标移到屏幕左上角可紧急停止
- 程序只在本地运行，不会上传任何数据
- 摄像头画面仅用于手势识别，不会保存或传输

## 🔮 未来扩展

- [ ] 支持双手操作
- [ ] 自定义手势映射
- [ ] 手势录制与回放
- [ ] 多语言支持
- [ ] 系统托盘后台运行
- [ ] 更多手势类型（缩放、旋转等）

## 📄 许可证

本项目仅供学习和个人使用。

## 🙏 致谢

- Google MediaPipe 团队提供的优秀手部检测库
- OpenCV 和 PyAutoGUI 的开发者们

## 📞 反馈与支持

如有问题或建议，欢迎反馈！

---

**享受用手势控制电脑的乐趣吧！** 🎉
